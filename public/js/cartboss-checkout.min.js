document.addEventListener("DOMContentLoaded",function(){try{var i=document.querySelectorAll('[id^="cartboss_"]');if(i)for(var t=0;t<i.length;t++)"P"===i[t].tagName&&(i[t].id=i[t].id+"_cb_fixed")}catch(i){}console.log("🔥","Powered by CartBoss"," : ","www.cartboss.io")}),function(e){var t=cb_checkout_data.ajaxurl,s=cb_checkout_data.nonce,o=cb_checkout_data.debug,a=cb_checkout_data.action,l=cb_checkout_data.preset_fields,i=!1;o&&console.log("CartBoss","Script loaded");function c(){var n={};e.each(g,function(i,t){t.is(":checkbox")?n[i]=!!t.is(":checked"):n[i]=t.val()}),void 0!==n.billing_phone?5<n.billing_phone.length?p.addState(n):o&&console.log("CartBoss","🔥 Phone too short"):o&&console.log("CartBoss","🔥 Phone not found")}function n(){i||(i=!0,o&&console.log("CartBoss","Script initialized"),e.each(r,function(i,t){try{var n=e(t);if(n&&0<n.length){if("billing_phone"===i)try{n.prop("type","tel"),n.attr("autocomplete","billing tel"),n.attr("autocorrect","off")}catch(i){}void 0!==l[i]&&0<String(l[i]).length&&(n.is(":checkbox")?n.is(":checked")!==l[i]&&n.trigger("click"):n.val(l[i]||""),o&&console.log("CartBoss","🔥 Field value set via JS",n.attr("id"),"=",l[i])),-1===e.inArray(i,d)&&(n.on("input change",c),g[i]=n,o&&console.log("CartBoss","Field listener attached to field",i))}else o&&console.log("CartBoss","Field not found",i)}catch(i){}}),c())}var p={stateData:null,addState:function(i){i?(clearTimeout(this.tid),this.stateData=i,this._send(1500)):o&&console.log("CartBoss","State data is empty, skipping")},_send:function(i){var n=this;this.stateData||o&&console.log("CartBoss","🚨 Nothing to send"),n.isSendingInProgress||(o&&console.log("CartBoss","⏳ Change detected, sending in",i,"ms"),n.tid=setTimeout(function(){n.stateData.action=a,n.stateData.nonce=s,n.stateData.current_url=window.location.href,e.ajax({url:t,type:"POST",data:n.stateData,dataType:"json",cache:!1,timeout:1e4,beforeSend:function(i){n.isSendingInProgress=!0,o&&console.log("CartBoss","✈ Sending started with data"),n.stateData=null},complete:function(i,t){n.isSendingInProgress=!1},success:function(i){o&&console.log("CartBoss","✅ Sending completed with response:",i),i.success||i.data.redirect&&(window.location.href=i.data.redirect)}})},i))}},r={billing_phone:"#billing_phone, #billing-phone, #shipping_phone, #shipping-phone, #phone",billing_email:"#billing_email, #email",billing_first_name:"#billing_first_name, #billing-first_name",billing_last_name:"#billing_last_name, #billing-last_name",billing_company:"#billing_company, #billing-company",billing_address_1:"#billing_address_1, #billing-address_1",billing_address_2:"#billing_address_2, #billing-address_2, #billing_houseno",billing_city:"#billing_city, #billing-city",billing_postcode:"#billing_postcode, #billing_zip, #billing-postcode",billing_country:'#billing_country, div[class*="country-input"] > input[type=text]:not([id]):last',billing_state:"#billing_state",shipping_first_name:"#shipping_first_name, #shipping-first_name",shipping_last_name:"#shipping_last_name, #shipping-last_name",shipping_company:"#shipping_company, #shipping-company",shipping_address_1:"#shipping_address_1, #shipping-address_1",shipping_address_2:"#shipping_address_2, #shipping-address_2, #shipping_houseno",shipping_city:"#shipping_city, #shipping-city",shipping_postcode:"#shipping_postcode, #shipping_zip, #shipping-postcode",shipping_country:'#shipping_country, div[class*="country-input"] > input[type=text]:not([id]):last',shipping_state:"#shipping_state",order_comments:"#order_comments, .wc-block-checkout__order-notes > textarea",cartboss_accepts_marketing:"#cartboss_accepts_marketing"},d=[],g={};e(document).ready(function(){setTimeout(n,1500)}),setTimeout(n,3e3)}(jQuery);